!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-bootstrap")):"function"==typeof define&&define.amd?define(["react","react-bootstrap"],t):"object"==typeof exports?exports["react-bs-datatable"]=t(require("react"),require("react-bootstrap")):e["react-bs-datatable"]=t(e.react,e["react-bootstrap"])}(this,function(e,t){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(t,r){t.exports=e},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),s=a(o),i=r(2),l=a(i),u=function(e){var t,r=e.icon,a=e.additionalClass,o="fa-"+r,i=(0,l.default)((t={fa:!0},n(t,""+o,!0),n(t,""+a,!0),t));return s.default.createElement("i",{className:i,"aria-hidden":"true"})};u.propTypes={icon:o.PropTypes.string.isRequired,additionalClass:o.PropTypes.string.isRequired},t.default=u},function(e,t,r){var a,n;!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(this&&this[a]||a);else if(Array.isArray(a))e.push(r.apply(this,a));else if("object"===n)for(var s in a)o.call(a,s)&&a[s]&&e.push(this&&this[s]||s)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(a=[],n=function(){return r}.apply(t,a),!(void 0!==n&&(e.exports=n)))}()},function(e,r){e.exports=t},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=r(0),u=a(l),p=r(3),c=r(1),f=a(c),d=function(e){function t(){var e,r,a,s;n(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return r=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onInputChange=function(){return function(e){e.preventDefault(),a.props.onChangeFilter(e.target.value)}},a.onClearFilter=function(){return function(e){e.preventDefault(),a.props.onChangeFilter("")}},s=r,o(a,s)}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement(p.FormGroup,{controlId:"select-filter-"+this.props.keyName},u.default.createElement(p.InputGroup,null,u.default.createElement(p.FormControl,{type:"text",value:this.props.filterText,placeholder:"Enter text",onChange:this.onInputChange()}),u.default.createElement(p.InputGroup.Button,null,u.default.createElement(p.Button,{onClick:this.onClearFilter()},u.default.createElement(f.default,{icon:"times",additionalClass:"fa-fw"})))))}}]),t}(u.default.Component);d.propTypes={filterText:l.PropTypes.string,keyName:l.PropTypes.string,onChangeFilter:l.PropTypes.func},t.default=d},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),u=r(0),p=a(u),c=r(3),f=r(2),d=a(f),h=r(4),y=a(h),b=r(1),g=a(b),P=function(e){function t(e){o(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onChangeFilter=function(e){r.setState({filterText:e,currentPage:1})},r.onPageNavigate=function(e){return function(t){r.setState({currentPage:e})}},r.onRowsPerPageChange=function(){return function(e){r.setState({rowsPerPage:e.target.value,currentPage:1})}},r.onSortChange=function(e){return function(t){var a=r.state.sortedProp;e!==r.state.sortedProp.prop?(a.prop=e,a.isAscending=!0):a.isAscending=!r.state.sortedProp.isAscending,r.setState({sortedProp:a})}};var a=void 0!==e.rowsPerPage?e.rowsPerPage:5,n={};if(void 0!==e.initialSort)for(var i=!1,l=0;!i&&l<e.tableHeader.length;)e.tableHeader[l].prop===e.initialSort.prop&&(i=!0,e.tableHeader[l].sortable===!0&&(n=e.initialSort)),l++;return r.state={sortedProp:n,rowsPerPage:a,currentPage:1,filterText:""},r}return i(t,e),l(t,[{key:"isPropFilterable",value:function(e){for(var t=0,r=!1,a=!1;!r&&t<this.props.tableHeader.length;)this.props.tableHeader[t].prop===e&&(r=!0,this.props.tableHeader[t].filterable===!0&&(a=!0)),t++;return a}},{key:"sortData",value:function(e){var t=this,r=e;return this.state.sortedProp!=={}&&!function(){var e=t.state.sortedProp.prop,a=t.state.sortedProp.isAscending?1:-1;r.sort(function(t,r){return t[e]<r[e]?-1*a:t[e]>r[e]?1*a:0})}(),r}},{key:"filterData",value:function(e){var t=this,r=e;return""!==this.state.filterText&&(r=e.filter(function(e){for(var r=!1,a=0,n=Object.keys(e).length;!r&&a<n;){var o="number"==typeof e[Object.keys(e)[a]]?e[Object.keys(e)[a]].toString:e[Object.keys(e)[a]];t.isPropFilterable(Object.keys(e)[a])&&o.includes(t.state.filterText)&&(r=!0),a++}return r})),r}},{key:"paginateFilteredData",value:function(e){var t=e,r=(this.state.currentPage-1)*this.state.rowsPerPage,a=this.state.currentPage*this.state.rowsPerPage;return t=t.slice(r,a)}},{key:"generateFirstPrevButtons",value:function(e,t,r){var a=[],n={key:this.props.keyName+"-page-first",disabled:!r,onClick:this.onPageNavigate(e)},o={key:this.props.keyName+"-page-prev",disabled:!r,onClick:this.onPageNavigate(t-1)};return a.push(p.default.createElement(c.Button,n,"First"),p.default.createElement(c.Button,o,"Previous")),a}},{key:"generateNextLastButtons",value:function(e,t,r){var a=[],n={key:this.props.keyName+"-page-next",disabled:!r,onClick:this.onPageNavigate(t+1)},o={key:this.props.keyName+"-page-last",disabled:!r,onClick:this.onPageNavigate(e)};return a.push(p.default.createElement(c.Button,n,"Next"),p.default.createElement(c.Button,o,"Last")),a}},{key:"renderPagination",value:function(e){var t=e.length,r=Math.ceil(t/this.state.rowsPerPage),a=void 0,n=0,o=[],s=!0,i=!0;for(1===this.state.currentPage?(a=1,s=!1,i=r>1):this.state.currentPage===r&&1!==r?(a=r-2>0?this.state.currentPage-2:1,i=!1):a=this.state.currentPage-1,o.push(this.generateFirstPrevButtons(1,this.state.currentPage,s));n<3&&a<=r;){var l={key:this.props.keyName+"-page-btn-"+a,onClick:this.onPageNavigate(a),active:this.state.currentPage===a};o.push(p.default.createElement(c.Button,l,a)),n++,a++}return o.push(this.generateNextLastButtons(r,this.state.currentPage,i)),p.default.createElement(c.ButtonGroup,{className:"btn-group-page-nav"},o)}},{key:"renderFilterOption",value:function(){for(var e=null,t=0,r=!1;!r&&t<this.props.tableHeader.length;)this.props.tableHeader[t].filterable===!0&&(r=!0),t++;return r&&(e=p.default.createElement(y.default,{onChangeFilter:this.onChangeFilter,filterText:this.state.filterText})),e}},{key:"renderPaginationOption",value:function(){var e=this,t=[],r=[],a=void 0!==this.props.rowsPerPage?this.props.rowsPerPage:5;return t.push(a),void 0!==this.props.rowsPerPageOption&&(this.props.rowsPerPageOption.forEach(function(e){t.includes(e)||t.push(e)}),t=t.sort(function(e,t){return e<t?-1:e>t?1:0})),t.forEach(function(t){var a={key:e.props.keyName+"-page-opt-"+t,value:t};r.push(p.default.createElement("option",a,t))}),p.default.createElement(c.Form,{inline:!0},p.default.createElement(c.FormGroup,{controlId:"formControlPagination"},"Show ",p.default.createElement(c.FormControl,{defaultValue:this.state.rowsPerPage,componentClass:"select",placeholder:"select",onChange:this.onRowsPerPageChange()},r)," options per page"))}},{key:"renderTableHeader",value:function(){for(var e=[],t=0;t<this.props.tableHeader.length;t++){var r="sort",a=null,n=(0,d.default)({"thead-th-default":!0,sortable:this.props.tableHeader[t].sortable===!0}),o={key:this.props.keyName+"-th-"+t,onClick:this.props.tableHeader[t].sortable===!0?this.onSortChange(this.props.tableHeader[t].prop):void 0,className:n};this.props.tableHeader[t].sortable===!0&&(this.state.sortedProp!=={}&&this.state.sortedProp.prop===this.props.tableHeader[t].prop&&(r=this.state.sortedProp.isAscending?"sort-asc":"sort-desc"),a=p.default.createElement(g.default,{icon:r,additionalClass:"fa-fw"})),e.push(p.default.createElement("th",o,this.props.tableHeader[t].title,p.default.createElement("span",{className:"pull-right"},a)))}return e}},{key:"renderTableBody",value:function(e){var t=[];if(0!==e.length)for(var r=0;r<e.length;r++)t.push(p.default.createElement("tr",{key:this.props.keyName+"-row-"+r,className:"tbody-tr-default"},this.renderSingleRow(e,r)));else t.push(p.default.createElement("tr",{key:this.props.keyName+"-row-zero-length",className:"tbody-tr-default"},p.default.createElement("td",{className:"tbody-td-default",colSpan:this.props.tableHeader.length},"No results to be shown.")));return t}},{key:"renderSingleRow",value:function(e,t){for(var r=[],a=0;a<this.props.tableHeader.length;a++)r.push(p.default.createElement("td",{key:this.props.keyName+"-col-"+t+a,className:"tbody-td-default"},e[t][this.props.tableHeader[a].prop]));return r}},{key:"render",value:function(){var e=this.filterData(this.props.tableBody),t=this.sortData(e),r=this.paginateFilteredData(t),a=this.renderPagination(e),o=this.props.tableClass||"",s=(0,d.default)(n({"table-datatable":!0},""+o,!0));return p.default.createElement(c.Row,null,p.default.createElement(c.Col,{xs:12,md:4},this.renderFilterOption()),p.default.createElement(c.Col,{xs:12,md:4},this.renderPaginationOption()),p.default.createElement(c.Col,{xs:12,md:4,className:"text-right"},a),p.default.createElement(c.Col,{xs:12},p.default.createElement(c.Table,{className:s},p.default.createElement("thead",{className:"thead-default"},p.default.createElement("tr",{className:"thead-tr-default"},this.renderTableHeader())),p.default.createElement("tbody",{className:"tbody-default"},this.renderTableBody(r)))))}}]),t}(p.default.Component);P.propTypes={tableHeader:u.PropTypes.arrayOf(u.PropTypes.object).isRequired,tableBody:u.PropTypes.arrayOf(u.PropTypes.object).isRequired,tableClass:u.PropTypes.string,rowsPerPage:u.PropTypes.number,rowsPerPageOption:u.PropTypes.arrayOf(u.PropTypes.number),initialSort:u.PropTypes.object,keyName:u.PropTypes.string.isRequired},t.default=P}])});